programa ej4_DesarrPower

procesos
  proceso tomarYJuntarAv(E vRecorrido:numero ; ES cantPap:numero)
  variables
    avAct:numero
    caAct:numero
  comenzar
    repetir 99
      avAct:=PosAv
      caAct:=PosCa
      si HayPapelEnLaEsquina  
        cantPap:=cantPap+1
        tomarPapel
      BloquearEsquina(avAct,caAct+vRecorrido)
      mover
      LiberarEsquina(avAct,caAct)
  fin 
  
  proceso tomarYJuntarCa(E vRecorrido:numero ; ES cantPap:numero)
  variables
    avAct:numero
    caAct:numero
  comenzar
    derecha
    repetir 99
      avAct:=PosAv
      caAct:=PosCa
      si HayPapelEnLaEsquina  
        cantPap:=cantPap+1
        tomarPapel
      BloquearEsquina(avAct+vRecorrido,caAct)
      mover
      LiberarEsquina(avAct,caAct)
  fin 
  
areas
  esqR1: AreaP (2,2,2,2)
  esqR2: AreaP (3,3,3,3)
  esqR3: AreaP (4,4,4,4)
  esqR4: AreaP (5,5,5,5)
  av1: AreaC (1,1,1,100)
  av100: AreaC (100,1,100,100)
  ca1: AreaC (2,1,99,1)
  ca100: AreaC (2,100,99,100)
  
robots
  robot tipo1
  variables
    cantPap:numero 
    inicio:numero
    vRecorrido:numero
  comenzar
    cantPap:=0
    inicio:=PosAv
    BloquearEsquina(1,1)
    Pos(1,1)
    vRecorrido:=1
    repetir 2
      tomarYJuntarAv(vRecorrido,cantPap)
      tomarYJuntarCa(vRecorrido,cantPap)
      derecha
      vRecorrido:=-1
    Pos(inicio,inicio)
    LiberarEsquina(1,1)
    Informar(cantPap)
  fin
  
  robot tipo2
  variables
    cantPap:numero 
    inicio:numero
    vRecorrido:numero
  comenzar
    cantPap:=0
    inicio:=PosAv
    BloquearEsquina(1,1)
    Pos(1,1)
    vRecorrido:=1
    repetir 2
      tomarYJuntarAv(vRecorrido,cantPap)
      tomarYJuntarCa(vRecorrido,cantPap)
      derecha
      vRecorrido:=-1
    Pos(inicio,inicio)
    LiberarEsquina(1,1)
    Informar(cantPap)
  fin
  
  robot tipo3
  variables
    cantPap:numero 
    inicio:numero
    vRecorrido:numero
  comenzar
    cantPap:=0
    inicio:=PosAv
    BloquearEsquina(1,1)
    Pos(1,1)
    vRecorrido:=1
    repetir 2
      tomarYJuntarAv(vRecorrido,cantPap)
      tomarYJuntarCa(vRecorrido,cantPap)
      derecha
      vRecorrido:=-1
    Pos(inicio,inicio)
    LiberarEsquina(1,1)
    Informar(cantPap)
  fin
  
  robot tipo4
  variables
    cantPap:numero 
    inicio:numero
    vRecorrido:numero
  comenzar
    cantPap:=0
    inicio:=PosAv
    BloquearEsquina(1,1)
    Pos(1,1)
    vRecorrido:=1
    repetir 2
      tomarYJuntarAv(vRecorrido,cantPap)
      tomarYJuntarCa(vRecorrido,cantPap)
      derecha
      vRecorrido:=-1
    Pos(inicio,inicio)
    LiberarEsquina(1,1)
    Informar(cantPap)
  fin
  
variables
  robot1:tipo1
  robot2:tipo2
  robot3:tipo3
  robot4:tipo4
  
comenzar
  AsignarArea(robot1, av1)
  AsignarArea(robot1, ca1)
  AsignarArea(robot1, av100)
  AsignarArea(robot1, ca100)
  AsignarArea(robot1, esqR1)
  AsignarArea(robot2, av1)
  AsignarArea(robot2, ca1)
  AsignarArea(robot2, av100)
  AsignarArea(robot2, ca100)
  AsignarArea(robot2, esqR2)
  AsignarArea(robot3, av1)
  AsignarArea(robot3, ca1)
  AsignarArea(robot3, av100)
  AsignarArea(robot3, ca100)
  AsignarArea(robot3, esqR3)
  AsignarArea(robot4, av1)
  AsignarArea(robot4, ca1)
  AsignarArea(robot4, av100)
  AsignarArea(robot4, ca100)
  AsignarArea(robot4, esqR4)
  Iniciar(robot1, 2,2)
  Iniciar(robot2, 3,3)
  Iniciar(robot3, 4,4)
  Iniciar(robot4, 5,5)
fin