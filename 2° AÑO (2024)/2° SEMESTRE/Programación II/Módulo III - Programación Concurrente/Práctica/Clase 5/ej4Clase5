programa ej4Clase5

procesos

  proceso depositarEnEsq
  variables
    avAct,caAct:numero
  comenzar
    avAct:=PosAv
    caAct:=PosCa
    BloquearEsquina(50,50)
    Pos(50,50)
    repetir 5
      depositarPapel
    Pos(avAct,caAct)
    LiberarEsquina(50,50)   
  fin

areas
  av5: AreaP (5,1,5,100)
  av10: AreaP (10,1,10,100)
  esq50: AreaP (50,50,50,50)
  iCons1: AreaP (11,1,11,1)
  iCons2: AreaP (12,1,12,1)
  
robots

  robot tipoProd
  variables
    cantP:numero
  comenzar
    cantP:=0
    mientras (PosCa<=99)
      mientras (HayPapelEnLaEsquina) & (cantP<5)
        tomarPapel
        cantP:=cantP+1
      si (HayPapelEnLaEsquina)
        depositarEnEsq
        cantP:=0
        mientras HayPapelEnLaEsquina
          tomarPapel
          cantP:=cantP+1
      mover 
    mientras (HayPapelEnLaEsquina) & (cantP<5)
      tomarPapel
      cantP:=cantP+1
    si (HayPapelEnLaEsquina)
      depositaEnEsq  
      cantP:=0
      mientras HayPapelEnLaEsquina
        tomarPapel
        cantP:=cantP+1
  fin
  
  robot tipoCons
  variables
    cantP:numero
    cantPTomados:numero
    intentos:numero
    avAct,caAct:numero
  comenzar  
    intentos:=0
    mientras (intentos<>8)
      avAct:=PosAv
      cantPTomados:=0
      Random(cantP,2,5)
      BloquearEsquina(50,50)
      Pos(50,50)
      mientras (HayPapelEnLaEsquina)
        tomarPapel
        cantPTomados:=cantPTomados+1
      si (cantP=cantPTomados)
        intentos:=0
        Pos(avAct,1)
        LiberarEsquina(50,50)
        repetir cantPTomados
          depositarPapel
      sino
        intentos:=intentos+1
        repetir cantPTomados
          depositarPapel
        Pos(avAct,1)
        LiberarEsquina(50,50)
  fin
  
variables
  rProd1:tipoProd
  rProd2:tipoProd
  rCons1:tipoCons
  rCons2:tipoCons
  
comenzar
  AsignarArea(rProd1, av5)
  AsignarArea(rProd2, av10)
  AsignarArea(rProd1, esq50)
  AsignarArea(rProd2, esq50)
  AsignarArea(rCons1, esq50)
  AsignarArea(rCons2, esq50)
  AsignarArea(rCons1, iCons1)
  AsignarArea(rCons2, iCons2)
  Iniciar(rProd1, 5,1)
  Iniciar(rProd2, 10,1)
  Iniciar(rCons1, 11,1)
  Iniciar(rCons2, 12,1)
fin