programa ej2Clase3

procesos
  proceso recorrerAvenida(ES cantFlores:numero)
  comenzar
    repetir 9
      mientras HayFlorEnLaEsquina
        tomarFlor
        cantFlores:=cantFlores+1
      mover
    mientras HayFlorEnLaEsquina
      tomarFlor 
      cantFlores:=cantFlores+1  
  fin
 
areas
  av1: AreaP (1,1,1,10)
  av2: AreaP (2,11,2,20)
  areaF: AreaP (2,1,2,1)
  
robots
  robot tipo1
  variables
    cantFlores:numero
  comenzar
    cantFlores:=0
    recorrerAvenida(cantFlores)
    EnviarMensaje(cantFlores,robotF) 
  fin
  
  robot tipo2
  variables
    cantFlores:numero
  comenzar
    cantFlores:=0
    recorrerAvenida(cantFlores)
    EnviarMensaje(cantFlores,robotF)
  fin
  
  robot tipoF
  variables
    flores1:numero
    flores2:numero
    dif:numero
  comenzar
    RecibirMensaje(flores1,*)
    RecibirMensaje(flores2,*)
    si flores1>flores2
      dif:=flores1-flores2
      Informar(dif)
    sino
      si flores2>flores1
        dif:=flores2-flores1
        Informar(dif)
  fin
  
variables
  robot1:tipo1
  robot2:tipo2
  robotF:tipoF
  
comenzar
  AsignarArea(robot1, av1)
  AsignarArea(robot2, av2)
  AsignarArea(robotF, areaF)
  Iniciar(robot1, 1,1)
  Iniciar(robot2, 2,11)
  Iniciar(robotF, 2,1)
fin